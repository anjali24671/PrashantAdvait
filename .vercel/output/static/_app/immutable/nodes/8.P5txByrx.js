import{s as j,o as A,d as H,n as C}from"../chunks/scheduler.BOylP72J.js";import{S as L,i as R,e as b,s as S,c as k,g as V,b as x,a as $,d as p,h as y,k as g,l as M,n as d,y as P,o as h,q as Q,z as v,A as F,u as q,v as D,w as E,x as I}from"../chunks/index.DZ48zt5Z.js";import{e as w}from"../chunks/each.D6YF6ztN.js";import{B as U}from"../chunks/BookHorizontal.Brz4iic6.js";import{s as G}from"../chunks/searchQuery.D5FMPO_v.js";import{g as J}from"../chunks/entry.CjnvWq0e.js";function z(l,o,n){const t=l.slice();return t[4]=o[n],t}function K(l){let o,n;return o=new U({props:{image:l[4].photoURL,book_name:l[4].name,book_id:l[4]._id,book_price:l[4].price}}),{c(){q(o.$$.fragment)},l(t){D(o.$$.fragment,t)},m(t,s){E(o,t,s),n=!0},p:C,i(t){n||(d(o.$$.fragment,t),n=!0)},o(t){h(o.$$.fragment,t),n=!1},d(t){I(o,t)}}}function N(l){let o,n;return o=new U({props:{image:l[4].photoURL,book_name:l[4].name,book_id:l[4]._id,book_price:l[4].price,paper_price:l[4].paper_price}}),{c(){q(o.$$.fragment)},l(t){D(o.$$.fragment,t)},m(t,s){E(o,t,s),n=!0},p:C,i(t){n||(d(o.$$.fragment,t),n=!0)},o(t){h(o.$$.fragment,t),n=!1},d(t){I(o,t)}}}function B(l){let o,n,t,s;const f=[N,K],u=[];function c(e,_){return e[4].paper_price?0:1}return o=c(l),n=u[o]=f[o](l),{c(){n.c(),t=v()},l(e){n.l(e),t=v()},m(e,_){u[o].m(e,_),g(e,t,_),s=!0},p(e,_){n.p(e,_)},i(e){s||(d(n),s=!0)},o(e){h(n),s=!1},d(e){e&&p(t),u[o].d(e)}}}function O(l){let o,n="I am All",t,s,f,u,c=w(l[0]),e=[];for(let r=0;r<c.length;r+=1)e[r]=B(z(l,c,r));const _=r=>h(e[r],1,1,()=>{e[r]=null});return{c(){o=b("h1"),o.textContent=n,t=S(),s=b("div"),f=b("div");for(let r=0;r<e.length;r+=1)e[r].c();this.h()},l(r){o=k(r,"H1",{"data-svelte-h":!0}),V(o)!=="svelte-1nsomeo"&&(o.textContent=n),t=x(r),s=k(r,"DIV",{class:!0});var i=$(s);f=k(i,"DIV",{class:!0});var a=$(f);for(let m=0;m<e.length;m+=1)e[m].l(a);a.forEach(p),i.forEach(p),this.h()},h(){y(f,"class","grid lg:grid-cols-3 md:grid-cols-2 sm:grid-cols-1 grid-cols-1 gap-2"),y(s,"class","m-[2vw] flex justify-center md:justify-start items-center")},m(r,i){g(r,o,i),g(r,t,i),g(r,s,i),M(s,f);for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(f,null);u=!0},p(r,[i]){if(i&1){c=w(r[0]);let a;for(a=0;a<c.length;a+=1){const m=z(r,c,a);e[a]?(e[a].p(m,i),d(e[a],1)):(e[a]=B(m),e[a].c(),d(e[a],1),e[a].m(f,null))}for(F(),a=c.length;a<e.length;a+=1)_(a);P()}},i(r){if(!u){for(let i=0;i<c.length;i+=1)d(e[i]);u=!0}},o(r){e=e.filter(Boolean);for(let i=0;i<e.length;i+=1)h(e[i]);u=!1},d(r){r&&(p(o),p(t),p(s)),Q(e,r)}}}function T(l,o,n){let{data:t}=o,s,f=!0,u=t.eBooks;return A(()=>{s=G.subscribe(async c=>{if(!f)try{J(`/books/search?query=${c}`)}catch(e){console.error("Error fetching books:",e)}}),f=!1}),H(()=>{s&&s()}),l.$$set=c=>{"data"in c&&n(1,t=c.data)},[u,t]}class oe extends L{constructor(o){super(),R(this,o,T,O,j,{data:1})}}export{oe as component};
