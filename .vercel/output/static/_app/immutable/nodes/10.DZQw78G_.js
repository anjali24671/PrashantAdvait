import{s as B,o as E,d as H,n as h}from"../chunks/scheduler.BOylP72J.js";import{S as I,i as M,z as m,k as d,o as u,y as v,n as _,d as p,A as $,e as b,c as k,a as y,h as g,l as N,q as V,g as C,u as w,v as U,w as R,x as j}from"../chunks/index.DZ48zt5Z.js";import{e as z}from"../chunks/each.D6YF6ztN.js";import{B as q}from"../chunks/BookHorizontal.Brz4iic6.js";import{s as S}from"../chunks/searchQuery.D5FMPO_v.js";import{g as T}from"../chunks/entry.CjnvWq0e.js";function D(s,e,t){const o=s.slice();return o[3]=e[t],o}function A(s){let e,t,o,i=z(s[0].booksData),n=[];for(let a=0;a<i.length;a+=1)n[a]=L(D(s,i,a));const c=a=>u(n[a],1,1,()=>{n[a]=null});return{c(){e=b("div"),t=b("div");for(let a=0;a<n.length;a+=1)n[a].c();this.h()},l(a){e=k(a,"DIV",{class:!0});var r=y(e);t=k(r,"DIV",{class:!0});var l=y(t);for(let f=0;f<n.length;f+=1)n[f].l(l);l.forEach(p),r.forEach(p),this.h()},h(){g(t,"class","grid lg:grid-cols-3 md:grid-cols-2 sm:grid-cols-1 grid-cols-1 gap-2"),g(e,"class","m-[2vw] flex justify-center md:justify-start items-center")},m(a,r){d(a,e,r),N(e,t);for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(t,null);o=!0},p(a,r){if(r&1){i=z(a[0].booksData);let l;for(l=0;l<i.length;l+=1){const f=D(a,i,l);n[l]?(n[l].p(f,r),_(n[l],1)):(n[l]=L(f),n[l].c(),_(n[l],1),n[l].m(t,null))}for($(),l=i.length;l<n.length;l+=1)c(l);v()}},i(a){if(!o){for(let r=0;r<i.length;r+=1)_(n[r]);o=!0}},o(a){n=n.filter(Boolean);for(let r=0;r<n.length;r+=1)u(n[r]);o=!1},d(a){a&&p(e),V(n,a)}}}function P(s){let e,t='<div class="flex items-center justify-center"><div>No books found.</div></div>';return{c(){e=b("div"),e.innerHTML=t,this.h()},l(o){e=k(o,"DIV",{class:!0,"data-svelte-h":!0}),C(e)!=="svelte-1yt77zr"&&(e.innerHTML=t),this.h()},h(){g(e,"class","w-full ")},m(o,i){d(o,e,i)},p:h,i:h,o:h,d(o){o&&p(e)}}}function Q(s){let e,t;return e=new q({props:{image:s[3].photoURL,book_name:s[3].name,book_id:s[3]._id,book_price:s[3].price}}),{c(){w(e.$$.fragment)},l(o){U(e.$$.fragment,o)},m(o,i){R(e,o,i),t=!0},p(o,i){const n={};i&1&&(n.image=o[3].photoURL),i&1&&(n.book_name=o[3].name),i&1&&(n.book_id=o[3]._id),i&1&&(n.book_price=o[3].price),e.$set(n)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){u(e.$$.fragment,o),t=!1},d(o){j(e,o)}}}function F(s){let e,t;return e=new q({props:{image:s[3].photoURL,book_name:s[3].name,book_id:s[3]._id,book_price:s[3].price,paper_price:s[3].paper_price}}),{c(){w(e.$$.fragment)},l(o){U(e.$$.fragment,o)},m(o,i){R(e,o,i),t=!0},p(o,i){const n={};i&1&&(n.image=o[3].photoURL),i&1&&(n.book_name=o[3].name),i&1&&(n.book_id=o[3]._id),i&1&&(n.book_price=o[3].price),i&1&&(n.paper_price=o[3].paper_price),e.$set(n)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){u(e.$$.fragment,o),t=!1},d(o){j(e,o)}}}function L(s){let e,t,o,i;const n=[F,Q],c=[];function a(r,l){return r[3].paper_price?0:1}return e=a(s),t=c[e]=n[e](s),{c(){t.c(),o=m()},l(r){t.l(r),o=m()},m(r,l){c[e].m(r,l),d(r,o,l),i=!0},p(r,l){let f=e;e=a(r),e===f?c[e].p(r,l):($(),u(c[f],1,1,()=>{c[f]=null}),v(),t=c[e],t?t.p(r,l):(t=c[e]=n[e](r),t.c()),_(t,1),t.m(o.parentNode,o))},i(r){i||(_(t),i=!0)},o(r){u(t),i=!1},d(r){r&&p(o),c[e].d(r)}}}function G(s){let e,t,o,i;const n=[P,A],c=[];function a(r,l){return r[0].booksData[0]?1:0}return e=a(s),t=c[e]=n[e](s),{c(){t.c(),o=m()},l(r){t.l(r),o=m()},m(r,l){c[e].m(r,l),d(r,o,l),i=!0},p(r,[l]){let f=e;e=a(r),e===f?c[e].p(r,l):($(),u(c[f],1,1,()=>{c[f]=null}),v(),t=c[e],t?t.p(r,l):(t=c[e]=n[e](r),t.c()),_(t,1),t.m(o.parentNode,o))},i(r){i||(_(t),i=!0)},o(r){u(t),i=!1},d(r){r&&p(o),c[e].d(r)}}}function J(s,e,t){let{data:o}=e,i,n=!0;return E(()=>{i=S.subscribe(async c=>{if(!n)try{T(`/books/search?query=${c}`)}catch(a){console.error("Error fetching books:",a)}}),n=!1}),H(()=>{i&&i()}),s.$$set=c=>{"data"in c&&t(0,o=c.data)},[o]}class x extends I{constructor(e){super(),M(this,e,J,G,B,{data:0})}}export{x as component};
