import{s as D,o as E,d as j,n as d}from"../chunks/scheduler.BOylP72J.js";import{S as H,i as I,z as m,k as b,o as u,y as g,n as f,d as p,A as $,e as k,c as h,a as v,h as y,l as N,q as S,g as V,u as C,v as L,w as R,x as q}from"../chunks/index.DZ48zt5Z.js";import{e as z}from"../chunks/each.D6YF6ztN.js";import{B}from"../chunks/BookHorizontal.Brz4iic6.js";import{s as A}from"../chunks/searchQuery.D5FMPO_v.js";import{g as M}from"../chunks/entry.CjnvWq0e.js";function U(s,e,t){const o=s.slice();return o[3]=e[t],o}function P(s){let e,t,o,l=z(s[0].ebooks),n=[];for(let a=0;a<l.length;a+=1)n[a]=w(U(s,l,a));const c=a=>u(n[a],1,1,()=>{n[a]=null});return{c(){e=k("div"),t=k("div");for(let a=0;a<n.length;a+=1)n[a].c();this.h()},l(a){e=h(a,"DIV",{class:!0});var r=v(e);t=h(r,"DIV",{class:!0});var i=v(t);for(let _=0;_<n.length;_+=1)n[_].l(i);i.forEach(p),r.forEach(p),this.h()},h(){y(t,"class","grid lg:grid-cols-3 md:grid-cols-2 sm:grid-cols-1 grid-cols-1 gap-2"),y(e,"class","m-[2vw] flex justify-center md:justify-start items-center")},m(a,r){b(a,e,r),N(e,t);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(t,null);o=!0},p(a,r){if(r&1){l=z(a[0].ebooks);let i;for(i=0;i<l.length;i+=1){const _=U(a,l,i);n[i]?(n[i].p(_,r),f(n[i],1)):(n[i]=w(_),n[i].c(),f(n[i],1),n[i].m(t,null))}for($(),i=l.length;i<n.length;i+=1)c(i);g()}},i(a){if(!o){for(let r=0;r<l.length;r+=1)f(n[r]);o=!0}},o(a){n=n.filter(Boolean);for(let r=0;r<n.length;r+=1)u(n[r]);o=!1},d(a){a&&p(e),S(n,a)}}}function Q(s){let e,t="no books exist";return{c(){e=k("h1"),e.textContent=t},l(o){e=h(o,"H1",{"data-svelte-h":!0}),V(e)!=="svelte-1xd3tge"&&(e.textContent=t)},m(o,l){b(o,e,l)},p:d,i:d,o:d,d(o){o&&p(e)}}}function F(s){let e,t;return e=new B({props:{image:s[3].photoURL,book_name:s[3].name,book_id:s[3]._id,book_price:s[3].price}}),{c(){C(e.$$.fragment)},l(o){L(e.$$.fragment,o)},m(o,l){R(e,o,l),t=!0},p(o,l){const n={};l&1&&(n.image=o[3].photoURL),l&1&&(n.book_name=o[3].name),l&1&&(n.book_id=o[3]._id),l&1&&(n.book_price=o[3].price),e.$set(n)},i(o){t||(f(e.$$.fragment,o),t=!0)},o(o){u(e.$$.fragment,o),t=!1},d(o){q(e,o)}}}function G(s){let e,t;return e=new B({props:{image:s[3].photoURL,book_name:s[3].name,book_id:s[3]._id,book_price:s[3].price,paper_price:s[3].paper_price}}),{c(){C(e.$$.fragment)},l(o){L(e.$$.fragment,o)},m(o,l){R(e,o,l),t=!0},p(o,l){const n={};l&1&&(n.image=o[3].photoURL),l&1&&(n.book_name=o[3].name),l&1&&(n.book_id=o[3]._id),l&1&&(n.book_price=o[3].price),l&1&&(n.paper_price=o[3].paper_price),e.$set(n)},i(o){t||(f(e.$$.fragment,o),t=!0)},o(o){u(e.$$.fragment,o),t=!1},d(o){q(e,o)}}}function w(s){let e,t,o,l;const n=[G,F],c=[];function a(r,i){return r[3].paper_price?0:1}return e=a(s),t=c[e]=n[e](s),{c(){t.c(),o=m()},l(r){t.l(r),o=m()},m(r,i){c[e].m(r,i),b(r,o,i),l=!0},p(r,i){let _=e;e=a(r),e===_?c[e].p(r,i):($(),u(c[_],1,1,()=>{c[_]=null}),g(),t=c[e],t?t.p(r,i):(t=c[e]=n[e](r),t.c()),f(t,1),t.m(o.parentNode,o))},i(r){l||(f(t),l=!0)},o(r){u(t),l=!1},d(r){r&&p(o),c[e].d(r)}}}function J(s){let e,t,o,l;const n=[Q,P],c=[];function a(r,i){return r[0].ebooks[0]?1:0}return e=a(s),t=c[e]=n[e](s),{c(){t.c(),o=m()},l(r){t.l(r),o=m()},m(r,i){c[e].m(r,i),b(r,o,i),l=!0},p(r,[i]){let _=e;e=a(r),e===_?c[e].p(r,i):($(),u(c[_],1,1,()=>{c[_]=null}),g(),t=c[e],t?t.p(r,i):(t=c[e]=n[e](r),t.c()),f(t,1),t.m(o.parentNode,o))},i(r){l||(f(t),l=!0)},o(r){u(t),l=!1},d(r){r&&p(o),c[e].d(r)}}}function K(s,e,t){let{data:o}=e,l,n=!0;return E(()=>{l=A.subscribe(async c=>{if(!n)try{M(`/books/search?query=${c}`)}catch(a){console.error("Error fetching books:",a)}}),n=!1}),j(()=>{l&&l()}),s.$$set=c=>{"data"in c&&t(0,o=c.data)},[o]}class x extends H{constructor(e){super(),I(this,e,K,J,D,{data:0})}}export{x as component};
